{% extends 'base.html' %}

{% import 'macros.html' as macro%}

{% block content %}

<div class="container-fluid">
    <div class="row">
        <!--Sidenav-->
        <div class="col-xs-12 col-md-3">
            <div class="jumbotron jumbotron1">
                <!--The app title/Name-->
                <div class="row">
                    <div class="col-xs-12 brand">
                        <a href="/"><h1><span class="T">T</span><span class="r">r</span><span class="e">e</span><span class="news">News</span></h1></a>
                    </div>
                </div>
                <!--The Date-->
                <div class="row border-b">
                    <div class="col-xs-12 date">
                        <p id="date"></p>
                        <p id="time"></p>
                    </div>
                </div>

                <div class="row">
                    <!--Breaking news-->
                    <div class="col-xs-12">
                        <p><a href="/breaking">Breaking News</a></p>
                        <hr>
                    </div>

                    <div class="col-xs-12">
                        <div class="row">
                            <div class="col-xs-8 open-topics">
                                <p>Topics</p>
                            </div>
                            <div class="col-xs-4 text-right open-topics">
                                <span id="topics" class="glyphicon glyphicon-menu-up"></span>
                            </div>
                            <div class="col-xs-12 topics">
                                <div class="row lists">
                                    <div class="col-xs-2"></div>
                                    <div class="col-xs-10">
                                        <p><a href="/categories/general">General</a></p>
                                        <p><a href="/categories/business">Business</a></p>
                                        <p><a href="/categories/entertainment">Entertainment</a></p>
                                        <p><a href="/categories/health">Health</a></p>
                                        <p><a href="/categories/science">Science</a></p>
                                        <p><a href="/categories/technology">Technology</a></p>
                                        <p><a href="/categories/sports">Sports</a></p> 
                                    </div>
                                </div>
                            </div>
                        </div>                                               
                        <hr>
                    </div>
                    <div class="col-xs-12">
                        <div class="row">
                            <div class="col-xs-8 open-sources">
                                <p>Sources</p>
                            </div>
                            <div class="col-xs-4 text-right open-sources">
                                <span id="sources" class="glyphicon glyphicon-menu-down"></span>
                            </div>
                            <div class="col-xs-12 sources">
                                <div class="row lists">
                                    <div class="col-xs-2"></div>
                                    <div class="col-xs-10">
                                        {{macro.displaySources(sources)}}
                                    </div>
                                </div>
                            </div>
                            
                        </div>                                               
                        <hr>
                    </div>
                    <div class="col-xs-12">
                        <div class="row">
                            <div class="col-xs-8 open-countries">
                                <p>Countries</p>
                            </div>
                            <div class="col-xs-4 text-right open-countries">
                                <span id="countries" class="glyphicon glyphicon-menu-down"></span>
                            </div>
                            <div class="col-xs-12 countries">
                                <div class="row lists">
                                    <div class="col-xs-2"></div>
                                    <div class="col-xs-10">
                                        <p><a href="/countries/us">USA</a></p>
                                        <p><a href="/countries/ca">Canada</a></p>
                                        <p><a href="/countries/gb">United Kingdom</a></p>
                                        <p><a href="/countries/au">Australia</a></p>
                                        <p><a href="/countries/de">Germany</a></p>
                                        <p><a href="/countries/it">Italy</a></p>
                                        <p><a href="/countries/fr">France</a></p>
                                        <p><a href="/countries/nl">Netherlands</a></p>
                                        <p><a href="/countries/nz">New Zealand</a></p>
                                        <p><a href="/countries/ru">Russia</a></p>
                                        <p><a href="/countries/za">South Africa</a></p>
                                        <p><a href="/countries/in">India</a></p>
                                        <p><a href="/countries/mx">Mexico</a></p>
                                        <p><a href="/countries/jp">Japan</a></p>
                                        <p><a href="/countries/il">Israel</a></p>
                                        <p><a href="/countries/cn">China</a></p>   
                                        <p><a href="/countries/ke">Kenya</a></p>
                                        <p><a href="/countries/ug">Uganda</a></p>
                                        <p><a href="/countries/tz">Tanzania</a></p>   
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr>
                    </div>
                    
                </div>
            </div>
        </div>
        <!--Content section-->
        <div class="col-xs-12 col-md-6">
            <div class="jumbotron jumbotron2">
                <div class="row">
                    <div class="col-xs-12">
                        <div id="myCarousel" class="carousel slide" data-ride="carousel">                            
                            <div class="carousel-inner">
                              <div class="item active">
                                <img src="{{breaking_news[0].url_to_image}}" alt="..." onerror="imgError(this);">
                                <div class="carousel-caption">
                                    <p><a href="{{breaking_news[0].url}}" target="_blank">{{breaking_news[0].title}}</a></p>                                                                      
                                </div>
                              </div>

                              {{ macro.displayCarousel(breaking_news) }}
                              
                            </div>
                          
                            <!-- Controls -->
                            <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                              <span class="glyphicon glyphicon-chevron-left"></span>
                            </a>
                            <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                              <span class="glyphicon glyphicon-chevron-right"></span>
                            </a>
                        </div> 
                        <!-- Carousel -->
                    </div>
                </div>
                <div class="row display-flex">
                    <div class="col-xs-12">
                        <h2>Media Houses</h2>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{cnn[0].url_to_image}}" alt="CNN">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/cnn">{{cnn[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{cnn[0].url}}" target="_blank">{{cnn[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{bbc[0].url_to_image}}" alt="BBC">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/bbc-news">{{bbc[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{bbc[0].url}}" target="_blank">{{bbc[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{al[0].url_to_image}}" alt="Al Jazeera">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/al-jazeera-english">{{al[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{al[0].url}}" target="_blank">{{al[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{cbs[0].url_to_image}}" alt="CBS">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/cbs-news">{{cbs[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{cbs[0].url}}" target="_blank">{{cbs[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{politico[0].url_to_image}}" alt="Politico">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/politico">{{politico[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{politico[0].url}}" target="_blank">{{politico[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{usa_today[0].url_to_image}}" alt="USA Today">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/usa-today">{{usa_today[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{usa_today[0].url}}" target="_blank">{{usa_today[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{newsweek[0].url_to_image}}" alt="NewsWeek">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/newsweek">{{newsweek[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{newsweek[0].url}}" target="_blank">{{newsweek[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{fox[0].url_to_image}}" alt="Fox News">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/fox-news">{{fox[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{fox[0].url}}" target="_blank">{{fox[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{time[0].url_to_image}}" alt="Time">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/time">{{time[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{time[0].url}}" target="_blank">{{time[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{nbc[0].url_to_image}}" alt="NBC News">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/nbc-news">{{nbc[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{nbc[0].url}}" target="_blank">{{nbc[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{reuters[0].url_to_image}}" alt="Reuters">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/reuters">{{reuters[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{reuters[0].url}}" target="_blank">{{reuters[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="card">
                            <img class="card-img-top" src="{{msnbc[0].url_to_image}}" alt="MSNBC">
                            <div class="card-body">
                              <h5 class="card-title"><a href="/source/msnbc">{{msnbc[0].source_name}}</a></h5>
                              <p class="card-text"><a href="{{msnbc[0].url}}" target="_blank">{{msnbc[0].title}}</a></p>                              
                            </div>
                        </div>
                    </div>
                    
                    
                </div>
            </div>
        </div>

        <!--right column section-->
        <div class="col-xs-12 col-md-3">
            <div class="jumbotron jumbotron3">
                <form>
                    <div class="row">
                        <div class="col-xs-12">
                            <label>Search articles</label>
                            <div class="input-group">
                                <input type="text" name="topic_query" class="form-control" placeholder="Search topic" required>
                                <span class="input-group-btn">
                                    <button class="btn btn-primary" type="submit"><span class="fa fa-search"></span></button>
                                </span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="jumbotron jumbotron4">
                <div class="row">
                    <div class="col-xs-12">
                        <h2>Top Story</h2>
                        <p class="headline"><strong><a href="{{breaking_news[0].url}}" target="_blank">{{breaking_news[0].title}}</a></strong></p>
                        <h5>{{breaking_news[0].source_name}}</h5>
                        <h5>{{breaking_news[0].published_at}}</h5>
                        <p>{{breaking_news[0].description}}</p>
                        <p>{{breaking_news[0].content}}</p>
                        <p>- {{breaking_news[0].author}}</p>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
</div>

{% endblock %}